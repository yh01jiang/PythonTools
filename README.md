# PythonTools
python小工具


@[toc]


VVG 日志收集系统
VVG (Vector → VictoriaLogs → Grafana) 是一个高性能的日志收集、存储和可视化解决方案。

🏗️ 系统架构
┌─────────────────────┐    ┌──────────────────────┐     ┌─────────────────────┐
│                     │    │                      │     │                     │
│      Vector         │────│    VictoriaLogs      │──── │      Grafana        │
│   (日志收集器)       │    │     (日志存储)       │     │    (日志可视化)      │
│                     │    │                      │     │                    │
│  • Nginx 日志       │    │  • 高性能存储         │     │  • 查询界面         │
│  • Java 多行日志    │    │  • 数据压缩           │     │  • 仪表板           │
│  • 数据处理和转换    │    │  • 快速检索           │    │  • 告警功能          │
│                     │    │                      │    │                     │
└─────────────────────┘    └──────────────────────┘    └─────────────────────┘
         :8686                       :9428                       :3000
✨ 核心特性
🚀 高性能: VictoriaLogs 提供极高的写入和查询性能
📦 轻量级: 相比 ELK 栈，资源占用更少
🔧 易部署: Docker Compose 一键部署，支持分布式部署
📊 可视化: Grafana 提供强大的日志查询和可视化功能
🔍 智能解析: 自动识别 Nginx 和 Java 日志格式
🔄 高可用: 支持多实例部署和负载均衡
📋 支持的日志格式
Nginx 日志
Access Log: 标准格式和 JSON 格式
Error Log: 标准错误日志格式
自定义格式: 支持自定义 log_format
Java 应用日志
单行日志: 标准 Java 应用日志
多行日志: 异常堆栈、调试信息等
JSON 格式: 结构化 Java 日志
🚀 快速开始
本系统支持分布式部署，各组件可以独立部署在不同服务器上。

部署架构选择
选项 1: 单机部署

所有组件部署在同一台服务器
适合测试环境或小规模应用
选项 2: 分布式部署 (推荐)

VictoriaLogs: 部署在存储服务器
Grafana: 部署在展示服务器
Vector: 部署在各个应用服务器
